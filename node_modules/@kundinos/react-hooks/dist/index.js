"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");const t={current:{}},r=(r,n,s,c)=>{const o=e.useRef(!1),u=e.useRef(c),a=e.useCallback((()=>{return"object"==typeof(e=r)&&e.hasOwnProperty("current")?r.current:r;var e}),[r]),l=e.useCallback((()=>a()===window?window:document),[a]),i=e.useCallback((e=>e===window?"window":"document"),[]),d=e.useCallback((e=>{const r=i(e.target);t.current[r][e.type].forEach((t=>{"document"!==r||t.elem!==document?t.elem===e.target&&t.listener(e):t.listener(e)}))}),[i]),f=e.useCallback((()=>{const e=a(),r=l(),c=i(r);t.current[c]||(t.current[c]={}),t.current[c][n]||(t.current[c][n]=[]);const o=t.current[c];o[n].push({elem:e,listener:s}),1===o[n].length&&r.addEventListener(n,d,u.current)}),[l,a,i,d,s,n]),p=e.useCallback((()=>{const e=a(),r=l(),s=i(r),c=t.current[s];c&&c[n]&&c[n].length>0&&(t.current[s][n]=c[n].filter((t=>null!==e&&t.elem!==e))),c&&c[n]&&0!==c[n].length||r.removeEventListener(n,d)}),[l,a,i,d,n]);e.useEffect((()=>{const e=a();o.current||"object"==typeof u.current&&u.current.initial&&(o.current=!0,s.bind(e,null)())}),[a,s,u]),e.useEffect((()=>(f(),p)),[f,p])},n=(e,t,n)=>r(document,e,t,n);const s=(t,r)=>{const n=e.useRef(null),s=e.useRef(),c=e.useCallback((()=>{clearInterval(s.current),"function"==typeof n.current&&n.current()}),[]);return e.useEffect((()=>(null===r||(s.current=setInterval((()=>{n.current=t()}),r)),c)),[t,r,c]),{resetInterval:c}};function c(e){if("number"==typeof e)return e;const t=36e5;return{millisecond:1,second:1e3,minute:6e4,hour:t,day:864e5}[e]}const o=(t,r)=>{const n=e.useRef(null),s=e.useRef(),c=e.useRef(!1),o=e.useCallback((()=>{clearTimeout(s.current),"function"==typeof n.current&&(n.current(),n.current=null)}),[]),u=e.useCallback((()=>{s.current=setTimeout((()=>{n.current=t(),c.current=!0}),r)}),[t,r]),a=e.useCallback((()=>{c.current=!1,o(),u()}),[o,u]);return e.useEffect((()=>null===r?o():(c.current||u(),o)),[r,o,u]),{reset:o,repeat:a}},u=[{event:"onKeyDown"},{event:"onKeyUp"},{event:"onKeyPress"},{codes:["Escape"],event:"onEscape"},{codes:["Tab"],event:"onTab"},{codes:["ArrowLeft"],event:"onArrowLeft"},{codes:["ArrowRight"],event:"onArrowRight"},{codes:["ArrowUp"],event:"onArrowUp"},{codes:["ArrowDown"],event:"onArrowDown"},{codes:["ArrowLeft","KeyA"],event:"onLeft"},{codes:["ArrowRight","KeyD"],event:"onRight"},{codes:["ArrowUp","KeyW"],event:"onUp"},{codes:["ArrowDown","KeyS"],event:"onDown"},{codes:["Space"],event:"onSpace"}];function a(t){e.useEffect((()=>{const e=Object.entries(t).map((([e,t])=>{const r=window.matchMedia(e);return r.matches&&t(r),r.addEventListener("change",t),r}));return()=>{e.forEach((e=>{const r=t[e.media];e.removeEventListener("change",r)}))}}),[t])}const l=()=>{const[t,r]=e.useState(null),n=e.useCallback((e=>{let t=e.media.includes("dark")?"dark":"light";e.matches||(t="dark"===t?"light":"dark"),r(t)}),[]);return a({"(prefers-color-scheme: dark)":n,"(prefers-color-scheme: light)":n}),{theme:t,isDark:t&&"dark"===t,isLight:t&&"light"===t}},i=()=>{const[t,r]=e.useState([]);return e.useEffect((()=>{r(window.navigator.languages)}),[]),t},d=()=>{const[t,r]=e.useState("no-preference"),n=e.useCallback((({media:e,matches:t})=>{"(prefers-reduced-motion: reduce)"===e&&r(t?"reduce":"no-preference"),"(prefers-reduced-motion: no-preference)"===e&&r(t?"no-preference":"reduce")}),[]);return a({"(prefers-reduced-motion: reduce)":n,"(prefers-reduced-motion: no-preference)":n}),t},f=(e,t,n)=>r(window,e,t,n);exports.store=t,exports.useClickOutside=function(t={}){const{disabled:r,handleEvent:s}=t,c=e.useRef(null),o=e.useCallback((e=>{const t=e.target;r||c.current&&!c.current.contains(t)&&s&&s(e)}),[r,s]);return n("click",o),c},exports.useCurrentDate=(t={})=>{const r=t.every||"second",[n,o]=e.useState(new Date),[u,a]=e.useState(c(r));return s((()=>{o(new Date)}),u),e.useEffect((()=>{a(c(r))}),[r]),n},exports.useDocumentEvent=n,exports.useFullState=t=>{const r=e.useRef(void 0),[n,s]=e.useState(t);return e.useEffect((()=>{r.current=n}),[n]),[n,s,r.current]},exports.useIdle=(t={})=>{const{onIdle:r,onWakeUp:s}=t,[c,u]=e.useState(!1),a=e.useRef(t.timeout||3e3),l=e.useRef(),i=e.useCallback((e=>{l.current.reset(),c||(u(!0),r&&r(e))}),[c,r]),d=e.useCallback((e=>{l.current.repeat(),c&&(u(!1),s&&s(e))}),[c,s]),f=e.useCallback((e=>{"hidden"===document.visibilityState?i(e):d(e)}),[i,d]);return l.current=o(i,a.current),n("visibilitychange",f),n("click",d),n("keydown",d),n("mousemove",d),n("scroll",d),c},exports.useInterval=s,exports.useKeyboardEvents=t=>{const r=e.useCallback((e=>{u.forEach((r=>{t[r.event]&&(r.codes&&!r.codes.includes(e.code)||t[r.event](e))}))}),[t]);n("keydown",r),n("keypress",r),n("keyup",r)},exports.useMediaQueries=a,exports.useMediaQuery=function(t,r){const[n,s]=e.useState(!1),c=e.useCallback((e=>{s(e.matches),r&&r({matches:e.matches,media:e.media})}),[r]);return e.useEffect((()=>{const e=window.matchMedia(t);return s(e.matches),e.addEventListener("change",c),()=>e.removeEventListener("change",c)}),[c,t]),n},exports.useNativeEvent=r,exports.usePrefers=()=>{const{theme:e}=l();return{colorScheme:e,languages:i(),reducedMotion:d()}},exports.usePrefersColorScheme=l,exports.usePrefersLanguages=i,exports.usePrefersReducedMotion=d,exports.useScroll=(t,r)=>{const n=e.useRef({x:0,y:0}),s=e.useCallback((()=>{const e={x:window.scrollX,y:window.scrollY};t({previous:n.current,current:e}),n.current=e}),[t]);return f("scroll",s,r)},exports.useTimeout=o,exports.useToggle=(t=!1)=>{const[r,n]=e.useState(t);return[r,e.useCallback((()=>n((e=>!e))),[])]},exports.useWindowEvent=f,exports.useWindowResize=(e,t)=>f("resize",e,t);
